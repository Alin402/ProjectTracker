(this.webpackJsonpmessaging=this.webpackJsonpmessaging||[]).push([[0],{45:function(e,t,a){e.exports=a(77)},50:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),s=(a(50),a(15)),l=a(4),i=a(13),m=a(41),u=a(42),d=a(23),p=[],f=a(9),E={projects:[],project:{},loading:!0},g=Object(i.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(d.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROJECTS":return Object(f.a)({},e,{projects:n,loading:!1});case"GET_PROJECT":return Object(f.a)({},e,{project:n,loading:!1});case"DELETE_ASSIGNMENT":case"UPDATE_ASSIGNMENT":case"ADD_ASSIGNMENT":return Object(f.a)({},e,{project:Object(f.a)({},e.project,{assignments:n})});case"DELETE_PROJECT":return Object(f.a)({},e,{projects:n});case"PROJECT_FAIL":return Object(f.a)({},e,{projects:[],loading:!1});case"CLEAR_PROJECT":return Object(f.a)({},e,{project:{}});default:return e}}}),b=Object(i.createStore)(g,{},Object(m.composeWithDevTools)(Object(i.applyMiddleware)(u.a))),h=a(3),v=function(){return r.a.createElement("nav",{className:"navbar bg-dark navbar-expand-md fixed-top"},r.a.createElement("div",{className:"container",style:{width:"40%"}},r.a.createElement(h.b,{to:"/",className:"btn btn-light w-100"},"Projects")))},j=(a(56),Object(l.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return r.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%",zIndex:"1"}},t.map((function(e){return r.a.createElement("div",{className:"alert alert-".concat(e.type," bounce-in-top"),key:e.id},e.msg)})))}))),N=a(14),y=a(2),x=a.n(y),O=a(10),k=(a(58),a(44)),w=a.n(k),T=a(11),_=a.n(T),A=a(30),C=function(e){var t=e.project;Object(n.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.put("https://projecttracker2.herokuapp.com/projects/".concat(t._id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var a=Object(n.useState)({todo:t.assignments.filter((function(e){return"todo"===e.type})),doing:t.assignments.filter((function(e){return"doing"===e.type})),done:t.assignments.filter((function(e){return"done"===e.type})),undefiend:t.assignments.filter((function(e){return"undefined"===e.type}))}),c=Object(N.a)(a,2),o=c[0],s=(c[1],o.todo),l=o.doing,i=o.done,m=o.undefiend;return r.a.createElement("div",{className:"col-sm-12 col-md-4 col-lg-3 col-xl-3 p-2"},r.a.createElement(h.b,{to:"/project/".concat(t._id),style:{textDecoration:"none"}},r.a.createElement("div",{id:"item",className:"card bg-".concat(t.deadline&&A(t.deadline).isBefore(new Date)?"danger":"info"),style:{height:"15rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title text-light"},t.name,r.a.createElement("span",{className:"text-warning"},t.done&&" - Done")),r.a.createElement("hr",null),t.deadline?r.a.createElement("h4",{className:"text-light"},"DEADLINE: ",r.a.createElement("span",{className:"text-warning"},r.a.createElement(w.a,{format:"MMMM DD YYYY"},t.deadline))):r.a.createElement("h4",{className:"text-light"},"No deadline"),r.a.createElement("p",{className:"text-light"},r.a.createElement("span",{className:"text-warning"},i.length)," assignments done,",r.a.createElement("span",{className:"text-warning"}," ",l.length)," doing, ",r.a.createElement("span",{className:"text-warning"},s.length)," to do and ",r.a.createElement("span",{className:"text-warning"},m.length)," undefined")))))},D=a(39),P=function(e,t){return function(a){var n=D.v4();a({type:"SET_ALERT",payload:{id:n,msg:e,type:t}}),setTimeout((function(){a({type:"REMOVE_ALERT",payload:n})}),3e3)}},S=Object(l.b)((function(e){return{project:e.project}}),{getProjects:function(){return function(){var e=Object(O.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("https://projecttracker2.herokuapp.com/projects");case 3:a=e.sent,t({type:"GET_PROJECTS",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t({type:"PROJECT_FAIL"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getProjects,a=e.project,c=a.projects,o=a.loading;return Object(n.useEffect)((function(){t()}),[o,t]),o?r.a.createElement("h1",null,"Loading..."):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},c&&c.map((function(e){return r.a.createElement(C,{key:e._id,project:e})})),r.a.createElement("div",{className:"col-sm-12 col-md-4 col-lg-3 col-xl-3 p-4",style:{display:"flex",alignItems:"center"}},r.a.createElement(h.b,{to:"/add-project"},r.a.createElement("i",{"data-toggle":"tooltip","data-placement":"top",title:"Add a new project",className:"fa fa-plus-square text-info",style:{fontSize:"5em",cursor:"pointer"}})))))})),R=a(22),J=a(39),L=Object(l.b)(null,{addProject:function(e,t,a){return function(){var n=Object(O.a)(x.a.mark((function n(r){var c,o,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},o=JSON.stringify({name:e,deadline:t,assignments:a}),n.prev=2,n.next=5,_.a.post("https://projecttracker2.herokuapp.com/projects",o,c);case 5:r(P("Project added","success")),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(2),console.log(n.t0),(s=n.t0.response.data.errors)&&s.forEach((function(e){r(P(e.msg,"danger"))}));case 13:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.addProject,a=Object(n.useState)([{id:J.v4(),name:""}]),c=Object(N.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)({title:"",deadline:""}),i=Object(N.a)(l,2),m=i[0],u=i[1],p=m.title,E=m.deadline,g=function(e){return u(Object(f.a)({},m,Object(R.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container"},r.a.createElement(h.b,{to:"",className:"btn btn-info"},"Go Back To Projects"),r.a.createElement("h2",{className:"mt-2"},"Add a project"),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(p,E,o),u({title:"",deadline:""}),s([{id:J.v4(),name:""}])}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{value:p,onChange:function(e){return g(e)},type:"text",id:"title",name:"title",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"deadline"},"Deadline"),r.a.createElement("input",{value:E,onChange:function(e){return g(e)},type:"date",id:"deadline",name:"deadline",className:"form-control"})),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-info"},"Assignments"),o.map((function(e,t){return r.a.createElement("div",{key:t,className:"form-group"},r.a.createElement("label",{htmlFor:"task"},"Assignment"),r.a.createElement("input",{value:e.name,onChange:function(t){s(o.map((function(a){return a.id===e.id?Object(f.a)({},a,{name:t.target.value}):a})))},type:"text",id:"task",name:"task",className:"form-control"}))}))),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){s([].concat(Object(d.a)(o),[{id:J.v4(),name:""}]))}},"New")," ",r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"btn btn-info mt-3",value:"Submit project"})))})),I=Object(l.b)(null,{updateAssignment:function(e,t,a){return function(){var n=Object(O.a)(x.a.mark((function n(r){var c;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.a.put("https://projecttracker2.herokuapp.com/projects/".concat(e,"/").concat(t),JSON.stringify({field:a}),{headers:{"Content-Type":"application/json"}});case 3:c=n.sent,r({type:"UPDATE_ASSIGNMENT",payload:c.data}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),r({type:"PROJECT_FAIL"});case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},deleteAssignment:function(e,t){return function(){var a=Object(O.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.delete("https://projecttracker2.herokuapp.com/projects/".concat(e,"/").concat(t));case 3:r=a.sent,n({type:"DELETE_ASSIGNMENT",payload:r.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),n({type:"PROJECT_FAIL"});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.id,a=e.assignment,n=e.updateAssignment,c=e.deleteAssignment;return r.a.createElement("div",{className:"bg-light mt-1 p-3 rounded",style:{width:"100%"}},r.a.createElement("div",null,r.a.createElement("p",null,a.name)),r.a.createElement("div",{className:"dropdown mt-2"},r.a.createElement("button",{className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown"},"Move"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("button",{onClick:function(){return n(t,a._id,"todo")},className:"btn btn-outline"},"To Do"),r.a.createElement("button",{onClick:function(){return n(t,a._id,"doing")},className:"btn btn-outline"},"Doing"),r.a.createElement("button",{onClick:function(){return n(t,a._id,"done")},className:"btn btn-outline"},"Done"))," "," ",r.a.createElement("button",{onClick:function(){return c(t,a._id)},className:"btn btn-danger"},r.a.createElement("i",{className:"fa fa-times"}))))})),M=Object(l.b)((function(e){return{project:e.project}}),{getProject:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CLEAR_PROJECT"}),t.prev=1,t.next=4,_.a.get("https://projecttracker2.herokuapp.com/projects/".concat(e));case 4:n=t.sent,a({type:"GET_PROJECT",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),a({type:"PROJECT_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},addAssignment:function(e,t){return function(){var a=Object(O.a)(x.a.mark((function a(n){var r,c;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.post("https://projecttracker2.herokuapp.com/projects/".concat(e),JSON.stringify({name:t}),{headers:{"Content-Type":"application/json"}});case 3:r=a.sent,n({type:"ADD_ASSIGNMENT",payload:r.data}),n(P("Assignment added","success")),a.next=14;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),n({type:"PROJECT_FAIL"}),(c=a.t0.response.data.errors)&&c.forEach((function(e){n(P(e.msg,"danger"))}));case 14:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},updateDeadline:function(e,t){return function(){var a=Object(O.a)(x.a.mark((function a(n){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.post("https://projecttracker2.herokuapp.com/projects/deadline/".concat(e),JSON.stringify({deadline:t}),{headers:{"Content-Type":"application/json"}});case 3:n(P("Project updated","success")),a.next=10;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0),n(P(a.t0.response.data.msg,"danger"));case 10:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.project,a=t.project,c=t.loading,o=e.getProject,s=e.addAssignment,l=e.match,i=e.updateDeadline;Object(n.useEffect)((function(){o(l.params.id)}),[o,l.params.id]);var m=Object(n.useState)(""),u=Object(N.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)((new Date).toString()),E=Object(N.a)(f,2),g=E[0],b=E[1];return c?r.a.createElement("h1",null,"Loading..."):a&&r.a.createElement("div",{className:"container-fluid"},r.a.createElement(h.b,{to:"/",className:"btn btn-info"},"Go Back To Projects"),r.a.createElement("h2",{className:"text-center"},a.name),r.a.createElement("h2",{className:"text-center"},r.a.createElement("span",{className:"text-warning"},a.assignments&&a.assignments.length)," assignments"),r.a.createElement("button",{className:"btn btn-danger","data-toggle":"modal","data-target":"#popup"},r.a.createElement("i",{className:"fa fa-times"})," "," ","Delete Project"),r.a.createElement("input",{value:g,onChange:function(e){return b(e.target.value)},type:"date",className:"ml-3 form-control",style:{width:"11rem",display:"inline-block"}}),r.a.createElement("button",{onClick:function(){return i(a._id,g)},className:"btn btn-primary ml-3"},"Update deadline"),r.a.createElement("div",{className:"row mt-2 p-2"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 p-3"},r.a.createElement("div",{className:"bg-info rounded p-2"},r.a.createElement("h3",{className:"text-light"},"To Do: ",r.a.createElement("span",{className:"text-warning"})),a.assignments&&a.assignments.filter((function(e){return"todo"===e.type})).map((function(e){return r.a.createElement(I,{id:l.params.id,key:e._id,assignment:e})})))),r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 p-3"},r.a.createElement("div",{className:"bg-info rounded p-2"},r.a.createElement("h3",{className:"text-light"},"Doing: ",r.a.createElement("span",{className:"text-warning"})),a.assignments&&a.assignments.filter((function(e){return"doing"===e.type})).map((function(e){return r.a.createElement(I,{id:l.params.id,key:e._id,assignment:e})})))),r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 p-3"},r.a.createElement("div",{className:"bg-info rounded p-2"},r.a.createElement("h3",{className:"text-light"},"Done: ",r.a.createElement("span",{className:"text-warning"})),a.assignments&&a.assignments.filter((function(e){return"done"===e.type})).map((function(e){return r.a.createElement(I,{id:l.params.id,key:e._id,assignment:e})})))),r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 p-3"},r.a.createElement("div",{className:"bg-info p-3 rounded"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(l.params.id,d),p("")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"content",className:"text-light"},"New assignment"),r.a.createElement("input",{value:d,onChange:function(e){return p(e.target.value)},type:"text",id:"content",name:"content",className:"form-control"})),r.a.createElement("input",{type:"submit",className:"btn btn-success"})),a.assignments&&a.assignments.filter((function(e){return"undefined"===e.type})).map((function(e){return r.a.createElement(I,{id:l.params.id,key:e._id,assignment:e})}))))))})),F=Object(l.b)((function(e){return{project:e.project}}),{deleteProject:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("https://projecttracker2.herokuapp.com/projects/".concat(e));case 3:n=t.sent,a({type:"DELETE_PROJECT",payload:n.data}),a(P("Project deleted","success")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),a({type:"PROJECT_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(s.f)((function(e){var t=e.deleteProject,a=e.project.project,n=e.history;return r.a.createElement("div",{className:"modal fade",id:"popup",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Delete this project?"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Are you sure you want to delete this project?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button","data-dismiss":"modal",className:"btn btn-primary",onClick:function(){t(a._id),n.push("/")}},"Yes"),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))}))),G=function(){return r.a.createElement(l.a,{store:b},r.a.createElement(n.Fragment,null,r.a.createElement(v,null),r.a.createElement("section",{style:{marginTop:"4rem"}},r.a.createElement(F,null),r.a.createElement(j,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:S}),r.a.createElement(s.a,{exact:!0,path:"/add-project",component:L}),r.a.createElement(s.a,{exact:!0,path:"/project/:id",component:M})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{basename:"/"},r.a.createElement(G,null))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.4893332d.chunk.js.map