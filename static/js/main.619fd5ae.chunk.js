(this.webpackJsonpmessaging=this.webpackJsonpmessaging||[]).push([[0],{45:function(e,t,n){e.exports=n(77)},50:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),s=n.n(c),o=(n(50),n(14)),l=n(7),i=n(13),m=n(41),u=n(42),p=n(23),d=[],f=n(9),E={projects:[],project:{},loading:!0},g=Object(i.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_ALERT":return[].concat(Object(p.a)(e),[a]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==a}));default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_PROJECTS":return Object(f.a)({},e,{projects:a,loading:!1});case"GET_PROJECT":return Object(f.a)({},e,{project:a,loading:!1});case"DELETE_ASSIGNMENT":case"UPDATE_ASSIGNMENT":case"ADD_ASSIGNMENT":return Object(f.a)({},e,{project:Object(f.a)({},e.project,{assignments:a})});case"DELETE_PROJECT":return Object(f.a)({},e,{projects:a});case"CLEAR_PROJECT":case"PROJECT_FAIL":return Object(f.a)({},e,{projects:[],project:{},loading:!1});default:return e}}}),b=Object(i.createStore)(g,{},Object(m.composeWithDevTools)(Object(i.applyMiddleware)(u.a))),h=n(5),v=function(){return r.a.createElement("nav",{className:"navbar bg-dark navbar-expand-md fixed-top"},r.a.createElement("div",{className:"container",style:{width:"40%"}},r.a.createElement(h.b,{to:"/",className:"btn btn-light w-100"},"Projects")))},j=(n(56),Object(l.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return r.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%",zIndex:"1"}},t.map((function(e){return r.a.createElement("div",{className:"alert alert-".concat(e.type," bounce-in-top"),key:e.id},e.msg)})))}))),y=n(15),N=n(2),x=n.n(N),O=n(11),T=(n(58),n(44)),k=n.n(T),w=n(12),_=n.n(w),A=n(30),P=function(e){var t=e.project;Object(a.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.put("https://nameless-bayou-58074.herokuapp.com/projects/".concat(t._id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var n=Object(a.useState)({todo:t.assignments.filter((function(e){return"todo"===e.type})),doing:t.assignments.filter((function(e){return"doing"===e.type})),done:t.assignments.filter((function(e){return"done"===e.type})),undefiend:t.assignments.filter((function(e){return"undefined"===e.type}))}),c=Object(y.a)(n,2),s=c[0],o=(c[1],s.todo),l=s.doing,i=s.done,m=s.undefiend;return r.a.createElement("div",{className:"col-sm-12 col-md-4 col-lg-3 col-xl-3 p-2"},r.a.createElement(h.b,{to:"/project/".concat(t._id),style:{textDecoration:"none"}},r.a.createElement("div",{id:"item",className:"card bg-".concat(t.deadline&&A(t.deadline).isBefore(new Date)?"danger":"info"),style:{height:"15rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title text-light"},t.name,r.a.createElement("span",{className:"text-warning"},t.done&&" - Done")),r.a.createElement("hr",null),t.deadline?r.a.createElement("h4",{className:"text-light"},"DEADLINE: ",r.a.createElement("span",{className:"text-warning"},r.a.createElement(k.a,{format:"MMMM DD YYYY"},t.deadline))):r.a.createElement("h4",{className:"text-light"},"No deadline"),r.a.createElement("p",{className:"text-light"},r.a.createElement("span",{className:"text-warning"},i.length)," assignments done,",r.a.createElement("span",{className:"text-warning"}," ",l.length)," doing, ",r.a.createElement("span",{className:"text-warning"},o.length)," to do and ",r.a.createElement("span",{className:"text-warning"},m.length)," undefined")))))},C=n(39),S=function(e,t){return function(n){var a=C.v4();n({type:"SET_ALERT",payload:{id:a,msg:e,type:t}}),setTimeout((function(){n({type:"REMOVE_ALERT",payload:a})}),3e3)}},D=Object(l.b)((function(e){return{project:e.project}}),{getProjects:function(){return function(){var e=Object(O.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("https://nameless-bayou-58074.herokuapp.com/projects");case 3:n=e.sent,t({type:"GET_PROJECTS",payload:n.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t({type:"PROJECT_FAIL"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getProjects,n=e.project,c=n.projects,s=n.loading;return Object(a.useEffect)((function(){t()}),[s,t]),s?r.a.createElement("h1",null,"Loading..."):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},c&&c.map((function(e){return r.a.createElement(P,{key:e._id,project:e})})),r.a.createElement("div",{className:"col-sm-12 col-md-4 col-lg-3 col-xl-3 p-4",style:{display:"flex",alignItems:"center"}},r.a.createElement(h.b,{to:"/add-project"},r.a.createElement("i",{"data-toggle":"tooltip","data-placement":"top",title:"Add a new project",className:"fa fa-plus-square text-info",style:{fontSize:"5em",cursor:"pointer"}})))))})),R=n(22),J=n(39),L=Object(l.b)(null,{addProject:function(e,t,n){return function(){var a=Object(O.a)(x.a.mark((function a(r){var c,s,o;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:e,deadline:t,assignments:n}),a.prev=2,a.next=5,_.a.post("https://nameless-bayou-58074.herokuapp.com/projects",s,c);case 5:r(S("Project added","success")),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(2),console.log(a.t0),(o=a.t0.response.data.errors)&&o.forEach((function(e){r(S(e.msg,"danger"))}));case 13:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.addProject,n=Object(a.useState)([{id:J.v4(),name:""}]),c=Object(y.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)({title:"",deadline:""}),i=Object(y.a)(l,2),m=i[0],u=i[1],d=m.title,E=m.deadline,g=function(e){return u(Object(f.a)({},m,Object(R.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container"},r.a.createElement(h.b,{to:"",className:"btn btn-info"},"Go Back To Projects"),r.a.createElement("h2",{className:"mt-2"},"Add a project"),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(d,E,s),u({title:"",deadline:""}),o([{id:J.v4(),name:""}])}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{value:d,onChange:function(e){return g(e)},type:"text",id:"title",name:"title",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"deadline"},"Deadline"),r.a.createElement("input",{value:E,onChange:function(e){return g(e)},type:"date",id:"deadline",name:"deadline",className:"form-control"})),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-info"},"Assignments"),s.map((function(e,t){return r.a.createElement("div",{key:t,className:"form-group"},r.a.createElement("label",{htmlFor:"task"},"Assignment"),r.a.createElement("input",{value:e.name,onChange:function(t){o(s.map((function(n){return n.id===e.id?Object(f.a)({},n,{name:t.target.value}):n})))},type:"text",id:"task",name:"task",className:"form-control"}))}))),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){o([].concat(Object(p.a)(s),[{id:J.v4(),name:""}]))}},"New")," ",r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"btn btn-info mt-3",value:"Submit project"})))})),I=Object(l.b)(null,{updateAssignment:function(e,t,n){return function(){var a=Object(O.a)(x.a.mark((function a(r){var c;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.put("https://nameless-bayou-58074.herokuapp.com/projects/".concat(e,"/").concat(t),JSON.stringify({field:n}),{headers:{"Content-Type":"application/json"}});case 3:c=a.sent,r({type:"UPDATE_ASSIGNMENT",payload:c.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),r({type:"PROJECT_FAIL"});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},deleteAssignment:function(e,t){return function(){var n=Object(O.a)(x.a.mark((function n(a){var r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.a.delete("https://nameless-bayou-58074.herokuapp.com/projects/".concat(e,"/").concat(t));case 3:r=n.sent,a({type:"DELETE_ASSIGNMENT",payload:r.data}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),a({type:"PROJECT_FAIL"});case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.id,n=e.assignment,a=e.updateAssignment,c=e.deleteAssignment;return r.a.createElement("div",{className:"bg-light mt-1 p-3 rounded",style:{width:"100%"}},r.a.createElement("div",null,r.a.createElement("p",null,n.name)),r.a.createElement("div",{className:"dropdown mt-2"},r.a.createElement("button",{className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown"},"Move"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("button",{onClick:function(){return a(t,n._id,"todo")},className:"btn btn-outline"},"To Do"),r.a.createElement("button",{onClick:function(){return a(t,n._id,"doing")},className:"btn btn-outline"},"Doing"),r.a.createElement("button",{onClick:function(){return a(t,n._id,"done")},className:"btn btn-outline"},"Done"))," "," ",r.a.createElement("button",{onClick:function(){return c(t,n._id)},className:"btn btn-danger"},r.a.createElement("i",{className:"fa fa-times"}))))})),M=Object(l.b)((function(e){return{project:e.project}}),{getProject:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CLEAR_PROJECT"}),t.prev=1,t.next=4,_.a.get("https://nameless-bayou-58074.herokuapp.com/projects/".concat(e));case 4:a=t.sent,n({type:"GET_PROJECT",payload:a.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n({type:"PROJECT_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},addAssignment:function(e,t){return function(){var n=Object(O.a)(x.a.mark((function n(a){var r,c;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.a.post("https://nameless-bayou-58074.herokuapp.com/projects/".concat(e),JSON.stringify({name:t}),{headers:{"Content-Type":"application/json"}});case 3:r=n.sent,a({type:"ADD_ASSIGNMENT",payload:r.data}),a(S("Assignment added","success")),n.next=14;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a({type:"PROJECT_FAIL"}),(c=n.t0.response.data.errors)&&c.forEach((function(e){a(S(e.msg,"danger"))}));case 14:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},deleteProject:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("https://nameless-bayou-58074.herokuapp.com/projects/".concat(e));case 3:a=t.sent,n({type:"DELETE_PROJECT",payload:a.data}),n(S("Project deleted","success")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),n({type:"PROJECT_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(o.f)((function(e){var t=e.project,n=t.project,c=t.loading,s=e.getProject,o=e.addAssignment,l=e.deleteProject,i=e.match,m=e.history;Object(a.useEffect)((function(){s(i.params.id)}),[s,i.params.id]);var u=Object(a.useState)(""),p=Object(y.a)(u,2),d=p[0],f=p[1];return c?r.a.createElement("h1",null,"Loading..."):r.a.createElement("div",{className:"container-fluid"},r.a.createElement(h.b,{to:"/",className:"btn btn-info"},"Go Back To Projects"),r.a.createElement("h2",{className:"text-center"},n.name),r.a.createElement("h2",{className:"text-center"},r.a.createElement("span",{className:"text-warning"},n.assignments&&n.assignments.length)," assignments"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){l(n._id),m.push("/")}},r.a.createElement("i",{className:"fa fa-times"})," "," ","Delete Project"),r.a.createElement("div",{className:"row mt-2 p-2"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 p-3"},r.a.createElement("div",{className:"bg-info rounded p-2"},r.a.createElement("h3",{className:"text-light"},"To Do: ",r.a.createElement("span",{className:"text-warning"})),n.assignments&&n.assignments.filter((function(e){return"todo"===e.type})).map((function(e){return r.a.createElement(I,{id:i.params.id,key:e._id,assignment:e})})))),r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 p-3"},r.a.createElement("div",{className:"bg-info rounded p-2"},r.a.createElement("h3",{className:"text-light"},"Doing: ",r.a.createElement("span",{className:"text-warning"})),n.assignments&&n.assignments.filter((function(e){return"doing"===e.type})).map((function(e){return r.a.createElement(I,{id:i.params.id,key:e._id,assignment:e})})))),r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 p-3"},r.a.createElement("div",{className:"bg-info rounded p-2"},r.a.createElement("h3",{className:"text-light"},"Done: ",r.a.createElement("span",{className:"text-warning"})),n.assignments&&n.assignments.filter((function(e){return"done"===e.type})).map((function(e){return r.a.createElement(I,{id:i.params.id,key:e._id,assignment:e})})))),r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 p-3"},r.a.createElement("div",{className:"bg-info p-3 rounded"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(i.params.id,d),f("")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"content",className:"text-light"},"New assignment"),r.a.createElement("input",{value:d,onChange:function(e){return f(e.target.value)},type:"text",id:"content",name:"content",className:"form-control"})),r.a.createElement("input",{type:"submit",className:"btn btn-success"})),n.assignments&&n.assignments.filter((function(e){return"undefined"===e.type})).map((function(e){return r.a.createElement(I,{id:i.params.id,key:e._id,assignment:e})}))))))}))),F=function(){return r.a.createElement(l.a,{store:b},r.a.createElement(a.Fragment,null,r.a.createElement(v,null),r.a.createElement("section",{style:{marginTop:"4rem"}},r.a.createElement(j,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:D}),r.a.createElement(o.a,{exact:!0,path:"/add-project",component:L}),r.a.createElement(o.a,{exact:!0,path:"/project/:id",component:M})))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{basename:"/"},r.a.createElement(F,null))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.619fd5ae.chunk.js.map